{"ast":null,"code":"var _jsxFileName = \"C:\\\\Temp\\\\Quack\\\\ui\\\\src\\\\src\\\\launches\\\\Launch.js\";\n/* eslint-disable eqeqeq */\nimport React from \"react\";\nimport { withRouter } from \"react-router\";\nimport SubComponent from \"../common/SubComponent\";\nimport TestCase from \"../testcases/TestCase\";\nimport LaunchTestcaseControls from \"../launches/LaunchTestcaseControls\";\nimport LaunchAttributeStatsChart from \"../launches/LaunchAttributeStatsChart\";\nimport LaunchForm from \"../launches/LaunchForm\";\nimport { Link } from \"react-router-dom\";\nimport * as Utils from \"../common/Utils\";\nimport { FadeLoader } from \"react-spinners\";\nimport Backend from \"../services/backend\";\nimport $ from \"jquery\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar jQuery = require(\"jquery\");\nwindow.jQuery = jQuery;\nwindow.jQuery = $;\nwindow.$ = $;\nglobal.jQuery = $;\nrequire(\"gijgo/js/gijgo.min.js\");\nrequire(\"gijgo/css/gijgo.min.css\");\nclass Launch extends SubComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      launch: {\n        launchStats: {\n          statusCounters: {}\n        },\n        testSuite: {},\n        restartFailedOnly: false\n      },\n      selectedTestCase: {\n        uuid: null\n      },\n      attributesStatus: {},\n      loading: true\n    };\n    this.getLaunch = this.getLaunch.bind(this);\n    this.buildTree = this.buildTree.bind(this);\n    this.onTestcaseStateChanged = this.onTestcaseStateChanged.bind(this);\n    if (this.props.match.params.testcaseUuid) {\n      this.state.selectedTestCase = {\n        uuid: this.props.match.params.testcaseUuid\n      };\n    }\n    this.state.projectId = this.props.match.params.project;\n    this.showLaunchStats = this.showLaunchStats.bind(this);\n    this.buildAttributesStatusMap = this.buildAttributesStatusMap.bind(this);\n    this.addUnknownAttributesToAttributesStatusMap = this.addUnknownAttributesToAttributesStatusMap.bind(this);\n  }\n  componentDidMount() {\n    super.componentDidMount();\n    Backend.get(this.state.projectId + \"/attribute\").then(response => {\n      this.state.projectAttributes = response;\n      this.setState(this.state);\n      this.getLaunch(true);\n    }).catch(error => console.log(error));\n    this.interval = setInterval(this.getLaunch, 30000);\n  }\n  getLaunch(buildTree) {\n    Backend.get(this.state.projectId + \"/launch/\" + this.props.match.params.launchId).then(response => {\n      this.state.launch = response;\n      if (!this.state.launch.testSuite || !this.state.launch.testSuite.filter) {\n        this.state.launch.testSuite = {\n          filter: {\n            groups: []\n          }\n        };\n      }\n      if (this.state.selectedTestCase && this.state.selectedTestCase.uuid) {\n        this.state.selectedTestCase = Utils.getTestCaseFromTree(this.state.selectedTestCase.uuid, this.state.launch.testCaseTree, function (testCase, id) {\n          return testCase.uuid === id;\n        });\n      }\n      this.state.loading = false;\n      this.state.attributesStatus = {};\n      this.buildAttributesStatusMap(this.state.launch.testCaseTree);\n      this.addUnknownAttributesToAttributesStatusMap(this.state.launch.testCaseTree);\n      this.setState(this.state);\n      if (buildTree) {\n        this.buildTree();\n      }\n      this.checkUpdatedTestCases();\n    }).catch(error => {\n      console.log(error);\n      Utils.onErrorMessage(\"Couldn't get launch: \", error);\n      this.state.loading = false;\n      this.setState(this.state);\n    });\n  }\n  buildTree() {\n    if (this.tree) {\n      this.tree.destroy();\n    }\n    this.tree = $(\"#tree\").tree({\n      primaryKey: \"uuid\",\n      uiLibrary: \"bootstrap4\",\n      imageHtmlField: \"statusHtml\",\n      dataSource: Utils.parseTree(this.state.launch.testCaseTree)\n    });\n    this.tree.on(\"select\", function (e, node, id) {\n      this.state.selectedTestCase = Utils.getTestCaseFromTree(id, this.state.launch.testCaseTree, function (testCase, id) {\n        return testCase.uuid === id;\n      });\n      this.props.history.push(\"/\" + this.state.projectId + \"/launch/\" + this.state.launch.id + \"/\" + id);\n      this.setState(this.state);\n    }.bind(this));\n    if (this.state.selectedTestCase && this.state.selectedTestCase.uuid) {\n      var node = this.tree.getNodeById(this.state.selectedTestCase.uuid);\n      this.tree.select(node);\n      this.state.launch.testSuite.filter.groups.forEach(function (groupId) {\n        var selectedTestCaseInTree = Utils.getTestCaseFromTree(this.state.selectedTestCase.uuid, this.state.launch.testCaseTree, function (testCase, id) {\n          return testCase.uuid === id;\n        });\n        var attributes = selectedTestCaseInTree.attributes || [];\n        var attribute = attributes.find(function (attribute) {\n          return attribute.id === groupId;\n        }) || {};\n        var values = attribute.values || [\"None\"];\n        values.forEach(function (value) {\n          var node = this.tree.getNodeById(groupId + \":\" + value);\n          this.tree.expand(node);\n        }.bind(this));\n      }.bind(this));\n    }\n  }\n  buildAttributesStatusMap(head) {\n    head.testCases.forEach(testCase => {\n      Object.keys(testCase.attributes).forEach(attrKey => {\n        if (!this.state.attributesStatus[attrKey]) {\n          this.state.attributesStatus[attrKey] = {\n            name: Utils.getProjectAttribute(this.state.projectAttributes, attrKey).name || \"\",\n            values: {}\n          };\n        }\n        testCase.attributes[attrKey].forEach(attrValue => {\n          if (!this.state.attributesStatus[attrKey].values[attrValue]) {\n            this.state.attributesStatus[attrKey].values[attrValue] = {\n              PASSED: 0,\n              FAILED: 0,\n              BROKEN: 0,\n              SKIPPED: 0,\n              RUNNABLE: 0,\n              RUNNING: 0\n            };\n          }\n          this.state.attributesStatus[attrKey].values[attrValue][testCase.launchStatus] = this.state.attributesStatus[attrKey].values[attrValue][testCase.launchStatus] + 1;\n        });\n      });\n    });\n    head.children.forEach(this.buildAttributesStatusMap);\n  }\n  addUnknownAttributesToAttributesStatusMap(head) {\n    head.testCases.forEach(testCase => {\n      Object.keys(this.state.attributesStatus).forEach(attrKey => {\n        if (!testCase.attributes[attrKey]) {\n          if (!this.state.attributesStatus[attrKey].values[\"Unknown\"]) {\n            this.state.attributesStatus[attrKey].values[\"Unknown\"] = {\n              PASSED: 0,\n              FAILED: 0,\n              BROKEN: 0,\n              SKIPPED: 0,\n              RUNNABLE: 0,\n              RUNNING: 0\n            };\n          }\n          this.state.attributesStatus[attrKey].values[\"Unknown\"][testCase.launchStatus] = this.state.attributesStatus[attrKey].values[\"Unknown\"][testCase.launchStatus] + 1;\n        }\n      });\n    });\n    head.children.forEach(this.buildAttributesStatusMap);\n  }\n  onTestcaseStateChanged(testcase) {\n    var updatedTestCase = Utils.getTestCaseFromTree(testcase.uuid, this.state.launch.testCaseTree, function (existingTestCase, id) {\n      return existingTestCase.uuid === testcase.uuid;\n    });\n    Object.assign(updatedTestCase, testcase);\n    this.tree.dataSource = Utils.parseTree(this.state.launch.testCaseTree);\n    var testCaseHtmlNode = $(\"li[data-id='\" + testcase.uuid + \"']\").find(\"img\");\n    testCaseHtmlNode.attr(\"src\", Utils.getStatusImg(testcase));\n    if (this.state.selectedTestCase.uuid == testcase.uuid) {\n      this.state.selectedTestCase = testcase;\n      this.setState(this.state);\n    }\n    var that = this;\n    if (testcase && testcase.uuid) {\n      $(that.tree.getNodeById(testcase.uuid)[0]).parents(\".list-group-item\").each((num, node) => {\n        var nodeId = (node.dataset || {}).id || \"\";\n        var dataNode = Utils.getNodeFromDataSource(nodeId, {\n          children: that.tree.dataSource\n        });\n        var htmlImageNode = $(node).find(\"img\")[0];\n        var nodeImage = Utils.getNodeStatusImg(dataNode);\n        $(htmlImageNode).attr(\"src\", nodeImage);\n      });\n    }\n  }\n  checkUpdatedTestCases() {\n    if (!this.testCasesStateMap) {\n      this.buildTestCasesStateMap(this.state.launch.testCaseTree);\n    }\n    this.updateTestCasesStateFromLaunch(this.state.launch.testCaseTree);\n  }\n  updateTestCasesStateFromLaunch(tree) {\n    tree.testCases.forEach(function (testCase) {\n      if (this.testCasesStateMap && this.testCasesStateMap[testCase.uuid] !== testCase.launchStatus) {\n        this.onTestcaseStateChanged(testCase);\n      }\n    }.bind(this));\n    tree.children.forEach(function (child) {\n      this.updateTestCasesStateFromLaunch(child);\n    }.bind(this));\n  }\n  buildTestCasesStateMap(tree) {\n    this.testCasesStateMap = {};\n    tree.testCases.forEach(function (testCase) {\n      this.testCasesStateMap[testCase.uuid] = testCase.launchStatus;\n    }.bind(this));\n    tree.children.forEach(function (child) {\n      this.buildTestCasesStateMap(child);\n    }.bind(this));\n  }\n  showLaunchStats(event) {\n    this.state.selectedTestCase.uuid = null;\n    this.setState(this.state);\n  }\n  onLaunchRestart(failedOnly, event) {\n    this.state.restartFailedOnly = failedOnly;\n    this.setState(this.state);\n    $(\"#restart-launch-modal\").modal(\"toggle\");\n    event.preventDefault();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"launch-title\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\" + this.state.projectId + \"/launch/\" + this.state.launch.id,\n            onClick: this.showLaunchStats,\n            children: this.state.launch.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sweet-loading\",\n          children: /*#__PURE__*/_jsxDEV(FadeLoader, {\n            sizeUnit: \"px\",\n            size: 100,\n            color: \"#135f38\",\n            loading: this.state.loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tree-side col-5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"tree\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"testCase\",\n          className: \"testcase-side col-7\",\n          children: [this.state.selectedTestCase && this.state.selectedTestCase.uuid && /*#__PURE__*/_jsxDEV(TestCase, {\n            testcase: this.state.selectedTestCase,\n            projectAttributes: this.state.projectAttributes,\n            readonly: true,\n            launchId: this.state.launch.id,\n            projectId: this.state.projectId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), this.state.selectedTestCase && this.state.selectedTestCase.uuid && /*#__PURE__*/_jsxDEV(LaunchTestcaseControls, {\n            testcase: this.state.selectedTestCase,\n            launchId: this.state.launch.id,\n            projectId: this.state.projectId,\n            callback: this.onTestcaseStateChanged\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this), (!this.state.selectedTestCase || !this.state.selectedTestCase.uuid) && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [this.state.launch.launchGroup && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row launch-summary-block\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-6\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\" + this.state.projectId + \"/launches?launchGroup=\" + this.state.launch.launchGroup,\n                  children: \"View Launch Group\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 19\n            }, this), (this.state.launch.testSuite || {}).id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row launch-summary-block\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-2\",\n                children: \"Test Suite:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-4\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\" + this.state.projectId + \"/testcases?testSuite=\" + this.state.launch.testSuite.id,\n                  children: this.state.launch.testSuite.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row launch-summary-block\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-4\",\n                children: [\"Created at: \", Utils.timeToDate(this.state.launch.createdTime)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-4\",\n                children: [\"Started at: \", Utils.timeToDate(this.state.launch.startTime)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-4\",\n                children: [\"Finished at: \", Utils.timeToDate(this.state.launch.finishTime)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress launch-summary-block\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-bar progress-bar-striped\",\n                role: \"progressbar\",\n                style: Utils.getProgressBarStyle(this.state.launch.launchStats.statusCounters.RUNNING, this.state.launch.launchStats.total),\n                children: Utils.getProgressBarNumber(this.state.launch.launchStats.statusCounters.RUNNING, this.state.launch.launchStats.total)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-bar bg-success\",\n                role: \"progressbar\",\n                style: Utils.getProgressBarStyle(this.state.launch.launchStats.statusCounters.PASSED, this.state.launch.launchStats.total),\n                children: Utils.getProgressBarNumber(this.state.launch.launchStats.statusCounters.PASSED, this.state.launch.launchStats.total)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-bar bg-danger\",\n                role: \"progressbar\",\n                style: Utils.getProgressBarStyle(this.state.launch.launchStats.statusCounters.FAILED, this.state.launch.launchStats.total),\n                children: Utils.getProgressBarNumber(this.state.launch.launchStats.statusCounters.FAILED, this.state.launch.launchStats.total)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-bar bg-warning\",\n                role: \"progressbar\",\n                style: Utils.getProgressBarStyle(this.state.launch.launchStats.statusCounters.BROKEN, this.state.launch.launchStats.total),\n                children: Utils.getProgressBarNumber(this.state.launch.launchStats.statusCounters.BROKEN, this.state.launch.launchStats.total)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-bar progress-bar-striped bg-warning\",\n                role: \"progressbar\",\n                style: Utils.getProgressBarStyle(this.state.launch.launchStats.statusCounters.SKIPPED, this.state.launch.launchStats.total),\n                children: Utils.getProgressBarNumber(this.state.launch.launchStats.statusCounters.SKIPPED, this.state.launch.launchStats.total)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"restart-launch-control\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-primary\",\n                onClick: e => this.onLaunchRestart(false, e),\n                children: \"Restart All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-danger\",\n                onClick: e => this.onLaunchRestart(true, e),\n                children: \"Restart Failed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this), this.state.launch.launcherConfig && this.state.launch.launcherConfig.launcherId && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"launcher-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: [\"External Launch:\", this.state.launch.launcherConfig.externalLaunchUrl && /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"external-launch-link\",\n                  target: \"_blank\",\n                  href: this.state.launch.launcherConfig.externalLaunchUrl,\n                  rel: \"noreferrer\",\n                  children: this.state.launch.launcherConfig.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 25\n                }, this), !this.state.launch.launcherConfig.externalLaunchUrl && this.state.launch.launcherConfig.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n                children: [this.state.launch.launcherConfig.reportUrl && /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                    children: \"Report\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: this.state.launch.launcherConfig.reportUrl,\n                      children: \"View\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 447,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 25\n                }, this), Object.keys(this.state.launch.launcherConfig.properties).map(function (key) {\n                  return /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                      children: key\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 455,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                      children: this.state.launch.launcherConfig.properties[key]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 454,\n                    columnNumber: 29\n                  }, this);\n                }.bind(this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"launch-attr-stats\",\n              children: Object.keys(this.state.attributesStatus).map(attrKey => {\n                return /*#__PURE__*/_jsxDEV(LaunchAttributeStatsChart, {\n                  attrKey: attrKey,\n                  stats: this.state.attributesStatus[attrKey]\n                }, attrKey, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal fade\",\n        id: \"restart-launch-modal\",\n        tabIndex: \"-1\",\n        role: \"dialog\",\n        \"aria-labelledby\": \"launchLabel\",\n        \"aria-hidden\": \"true\",\n        children: /*#__PURE__*/_jsxDEV(LaunchForm, {\n          launch: this.state.launch,\n          restart: true,\n          failedOnly: this.state.restartFailedOnly\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default _c = withRouter(Launch);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","withRouter","SubComponent","TestCase","LaunchTestcaseControls","LaunchAttributeStatsChart","LaunchForm","Link","Utils","FadeLoader","Backend","$","jsxDEV","_jsxDEV","jQuery","require","window","global","Launch","constructor","props","state","launch","launchStats","statusCounters","testSuite","restartFailedOnly","selectedTestCase","uuid","attributesStatus","loading","getLaunch","bind","buildTree","onTestcaseStateChanged","match","params","testcaseUuid","projectId","project","showLaunchStats","buildAttributesStatusMap","addUnknownAttributesToAttributesStatusMap","componentDidMount","get","then","response","projectAttributes","setState","catch","error","console","log","interval","setInterval","launchId","filter","groups","getTestCaseFromTree","testCaseTree","testCase","id","checkUpdatedTestCases","onErrorMessage","tree","destroy","primaryKey","uiLibrary","imageHtmlField","dataSource","parseTree","on","e","node","history","push","getNodeById","select","forEach","groupId","selectedTestCaseInTree","attributes","attribute","find","values","value","expand","head","testCases","Object","keys","attrKey","name","getProjectAttribute","attrValue","PASSED","FAILED","BROKEN","SKIPPED","RUNNABLE","RUNNING","launchStatus","children","testcase","updatedTestCase","existingTestCase","assign","testCaseHtmlNode","attr","getStatusImg","that","parents","each","num","nodeId","dataset","dataNode","getNodeFromDataSource","htmlImageNode","nodeImage","getNodeStatusImg","testCasesStateMap","buildTestCasesStateMap","updateTestCasesStateFromLaunch","child","event","onLaunchRestart","failedOnly","modal","preventDefault","render","className","to","onClick","fileName","_jsxFileName","lineNumber","columnNumber","sizeUnit","size","color","readonly","callback","launchGroup","timeToDate","createdTime","startTime","finishTime","role","style","getProgressBarStyle","total","getProgressBarNumber","type","launcherConfig","launcherId","externalLaunchUrl","target","href","rel","reportUrl","properties","map","key","stats","tabIndex","restart","_c","$RefreshReg$"],"sources":["C:/Temp/Quack/ui/src/src/launches/Launch.js"],"sourcesContent":["/* eslint-disable eqeqeq */\nimport React from \"react\";\nimport { withRouter } from \"react-router\";\nimport SubComponent from \"../common/SubComponent\";\nimport TestCase from \"../testcases/TestCase\";\nimport LaunchTestcaseControls from \"../launches/LaunchTestcaseControls\";\nimport LaunchAttributeStatsChart from \"../launches/LaunchAttributeStatsChart\";\nimport LaunchForm from \"../launches/LaunchForm\";\nimport { Link } from \"react-router-dom\";\nimport * as Utils from \"../common/Utils\";\nimport { FadeLoader } from \"react-spinners\";\nimport Backend from \"../services/backend\";\n\nimport $ from \"jquery\";\n\nvar jQuery = require(\"jquery\");\nwindow.jQuery = jQuery;\nwindow.jQuery = $;\nwindow.$ = $;\nglobal.jQuery = $;\n\nrequire(\"gijgo/js/gijgo.min.js\");\nrequire(\"gijgo/css/gijgo.min.css\");\n\nclass Launch extends SubComponent {\n  state = {\n    launch: {\n      launchStats: {\n        statusCounters: {},\n      },\n      testSuite: {},\n      restartFailedOnly: false,\n    },\n    selectedTestCase: {\n      uuid: null,\n    },\n    attributesStatus: {},\n    loading: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.getLaunch = this.getLaunch.bind(this);\n    this.buildTree = this.buildTree.bind(this);\n    this.onTestcaseStateChanged = this.onTestcaseStateChanged.bind(this);\n    if (this.props.match.params.testcaseUuid) {\n      this.state.selectedTestCase = { uuid: this.props.match.params.testcaseUuid };\n    }\n    this.state.projectId = this.props.match.params.project;\n    this.showLaunchStats = this.showLaunchStats.bind(this);\n    this.buildAttributesStatusMap = this.buildAttributesStatusMap.bind(this);\n    this.addUnknownAttributesToAttributesStatusMap = this.addUnknownAttributesToAttributesStatusMap.bind(this);\n  }\n\n  componentDidMount() {\n    super.componentDidMount();\n    Backend.get(this.state.projectId + \"/attribute\")\n      .then(response => {\n        this.state.projectAttributes = response;\n        this.setState(this.state);\n        this.getLaunch(true);\n      })\n      .catch(error => console.log(error));\n    this.interval = setInterval(this.getLaunch, 30000);\n  }\n\n  getLaunch(buildTree) {\n    Backend.get(this.state.projectId + \"/launch/\" + this.props.match.params.launchId)\n      .then(response => {\n        this.state.launch = response;\n        if (!this.state.launch.testSuite || !this.state.launch.testSuite.filter) {\n          this.state.launch.testSuite = { filter: { groups: [] } };\n        }\n        if (this.state.selectedTestCase && this.state.selectedTestCase.uuid) {\n          this.state.selectedTestCase = Utils.getTestCaseFromTree(\n            this.state.selectedTestCase.uuid,\n            this.state.launch.testCaseTree,\n            function (testCase, id) {\n              return testCase.uuid === id;\n            },\n          );\n        }\n        this.state.loading = false;\n        this.state.attributesStatus = {};\n        this.buildAttributesStatusMap(this.state.launch.testCaseTree);\n        this.addUnknownAttributesToAttributesStatusMap(this.state.launch.testCaseTree);\n        this.setState(this.state);\n        if (buildTree) {\n          this.buildTree();\n        }\n        this.checkUpdatedTestCases();\n      })\n      .catch(error => {\n        console.log(error);\n        Utils.onErrorMessage(\"Couldn't get launch: \", error);\n        this.state.loading = false;\n        this.setState(this.state);\n      });\n  }\n\n  buildTree() {\n    if (this.tree) {\n      this.tree.destroy();\n    }\n    this.tree = $(\"#tree\").tree({\n      primaryKey: \"uuid\",\n      uiLibrary: \"bootstrap4\",\n      imageHtmlField: \"statusHtml\",\n      dataSource: Utils.parseTree(this.state.launch.testCaseTree),\n    });\n\n    this.tree.on(\n      \"select\",\n      function (e, node, id) {\n        this.state.selectedTestCase = Utils.getTestCaseFromTree(\n          id,\n          this.state.launch.testCaseTree,\n          function (testCase, id) {\n            return testCase.uuid === id;\n          },\n        );\n        this.props.history.push(\"/\" + this.state.projectId + \"/launch/\" + this.state.launch.id + \"/\" + id);\n        this.setState(this.state);\n      }.bind(this),\n    );\n    if (this.state.selectedTestCase && this.state.selectedTestCase.uuid) {\n      var node = this.tree.getNodeById(this.state.selectedTestCase.uuid);\n      this.tree.select(node);\n      this.state.launch.testSuite.filter.groups.forEach(\n        function (groupId) {\n          var selectedTestCaseInTree = Utils.getTestCaseFromTree(\n            this.state.selectedTestCase.uuid,\n            this.state.launch.testCaseTree,\n            function (testCase, id) {\n              return testCase.uuid === id;\n            },\n          );\n          var attributes = selectedTestCaseInTree.attributes || [];\n          var attribute =\n            attributes.find(function (attribute) {\n              return attribute.id === groupId;\n            }) || {};\n          var values = attribute.values || [\"None\"];\n          values.forEach(\n            function (value) {\n              var node = this.tree.getNodeById(groupId + \":\" + value);\n              this.tree.expand(node);\n            }.bind(this),\n          );\n        }.bind(this),\n      );\n    }\n  }\n\n  buildAttributesStatusMap(head) {\n    head.testCases.forEach(testCase => {\n      Object.keys(testCase.attributes).forEach(attrKey => {\n        if (!this.state.attributesStatus[attrKey]) {\n          this.state.attributesStatus[attrKey] = {\n            name: Utils.getProjectAttribute(this.state.projectAttributes, attrKey).name || \"\",\n            values: {},\n          };\n        }\n\n        testCase.attributes[attrKey].forEach(attrValue => {\n          if (!this.state.attributesStatus[attrKey].values[attrValue]) {\n            this.state.attributesStatus[attrKey].values[attrValue] = {\n              PASSED: 0,\n              FAILED: 0,\n              BROKEN: 0,\n              SKIPPED: 0,\n              RUNNABLE: 0,\n              RUNNING: 0,\n            };\n          }\n          this.state.attributesStatus[attrKey].values[attrValue][testCase.launchStatus] =\n            this.state.attributesStatus[attrKey].values[attrValue][testCase.launchStatus] + 1;\n        });\n      });\n    });\n    head.children.forEach(this.buildAttributesStatusMap);\n  }\n\n  addUnknownAttributesToAttributesStatusMap(head) {\n    head.testCases.forEach(testCase => {\n      Object.keys(this.state.attributesStatus).forEach(attrKey => {\n        if (!testCase.attributes[attrKey]) {\n          if (!this.state.attributesStatus[attrKey].values[\"Unknown\"]) {\n            this.state.attributesStatus[attrKey].values[\"Unknown\"] = {\n              PASSED: 0,\n              FAILED: 0,\n              BROKEN: 0,\n              SKIPPED: 0,\n              RUNNABLE: 0,\n              RUNNING: 0,\n            };\n          }\n          this.state.attributesStatus[attrKey].values[\"Unknown\"][testCase.launchStatus] =\n            this.state.attributesStatus[attrKey].values[\"Unknown\"][testCase.launchStatus] + 1;\n        }\n      });\n    });\n    head.children.forEach(this.buildAttributesStatusMap);\n  }\n\n  onTestcaseStateChanged(testcase) {\n    var updatedTestCase = Utils.getTestCaseFromTree(\n      testcase.uuid,\n      this.state.launch.testCaseTree,\n      function (existingTestCase, id) {\n        return existingTestCase.uuid === testcase.uuid;\n      },\n    );\n    Object.assign(updatedTestCase, testcase);\n    this.tree.dataSource = Utils.parseTree(this.state.launch.testCaseTree);\n\n    var testCaseHtmlNode = $(\"li[data-id='\" + testcase.uuid + \"']\").find(\"img\");\n    testCaseHtmlNode.attr(\"src\", Utils.getStatusImg(testcase));\n\n    if (this.state.selectedTestCase.uuid == testcase.uuid) {\n      this.state.selectedTestCase = testcase;\n      this.setState(this.state);\n    }\n\n    var that = this;\n    if (testcase && testcase.uuid) {\n      $(that.tree.getNodeById(testcase.uuid)[0])\n        .parents(\".list-group-item\")\n        .each((num, node) => {\n          var nodeId = (node.dataset || {}).id || \"\";\n          var dataNode = Utils.getNodeFromDataSource(nodeId, { children: that.tree.dataSource });\n          var htmlImageNode = $(node).find(\"img\")[0];\n          var nodeImage = Utils.getNodeStatusImg(dataNode);\n          $(htmlImageNode).attr(\"src\", nodeImage);\n        });\n    }\n  }\n\n  checkUpdatedTestCases() {\n    if (!this.testCasesStateMap) {\n      this.buildTestCasesStateMap(this.state.launch.testCaseTree);\n    }\n    this.updateTestCasesStateFromLaunch(this.state.launch.testCaseTree);\n  }\n\n  updateTestCasesStateFromLaunch(tree) {\n    tree.testCases.forEach(\n      function (testCase) {\n        if (this.testCasesStateMap && this.testCasesStateMap[testCase.uuid] !== testCase.launchStatus) {\n          this.onTestcaseStateChanged(testCase);\n        }\n      }.bind(this),\n    );\n    tree.children.forEach(\n      function (child) {\n        this.updateTestCasesStateFromLaunch(child);\n      }.bind(this),\n    );\n  }\n\n  buildTestCasesStateMap(tree) {\n    this.testCasesStateMap = {};\n    tree.testCases.forEach(\n      function (testCase) {\n        this.testCasesStateMap[testCase.uuid] = testCase.launchStatus;\n      }.bind(this),\n    );\n    tree.children.forEach(\n      function (child) {\n        this.buildTestCasesStateMap(child);\n      }.bind(this),\n    );\n  }\n\n  showLaunchStats(event) {\n    this.state.selectedTestCase.uuid = null;\n    this.setState(this.state);\n  }\n\n  onLaunchRestart(failedOnly, event) {\n    this.state.restartFailedOnly = failedOnly;\n    this.setState(this.state);\n    $(\"#restart-launch-modal\").modal(\"toggle\");\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"launch-title\">\n          <h3>\n            <Link to={\"/\" + this.state.projectId + \"/launch/\" + this.state.launch.id} onClick={this.showLaunchStats}>\n              {this.state.launch.name}\n            </Link>\n          </h3>\n        </div>\n        <div className=\"row\">\n          <div className=\"sweet-loading\">\n            <FadeLoader sizeUnit={\"px\"} size={100} color={\"#135f38\"} loading={this.state.loading} />\n          </div>\n\n          <div className=\"tree-side col-5\">\n            <div id=\"tree\"></div>\n          </div>\n          <div id=\"testCase\" className=\"testcase-side col-7\">\n            {this.state.selectedTestCase && this.state.selectedTestCase.uuid && (\n              <TestCase\n                testcase={this.state.selectedTestCase}\n                projectAttributes={this.state.projectAttributes}\n                readonly={true}\n                launchId={this.state.launch.id}\n                projectId={this.state.projectId}\n              />\n            )}\n            {this.state.selectedTestCase && this.state.selectedTestCase.uuid && (\n              <LaunchTestcaseControls\n                testcase={this.state.selectedTestCase}\n                launchId={this.state.launch.id}\n                projectId={this.state.projectId}\n                callback={this.onTestcaseStateChanged}\n              />\n            )}\n            {(!this.state.selectedTestCase || !this.state.selectedTestCase.uuid) && (\n              <div>\n                {this.state.launch.launchGroup && (\n                  <div className=\"row launch-summary-block\">\n                    <div className=\"col-6\">\n                      <Link to={\"/\" + this.state.projectId + \"/launches?launchGroup=\" + this.state.launch.launchGroup}>\n                        View Launch Group\n                      </Link>\n                    </div>\n                  </div>\n                )}\n                {(this.state.launch.testSuite || {}).id && (\n                  <div className=\"row launch-summary-block\">\n                    <div className=\"col-2\">Test Suite:</div>\n                    <div className=\"col-4\">\n                      <Link to={\"/\" + this.state.projectId + \"/testcases?testSuite=\" + this.state.launch.testSuite.id}>\n                        {this.state.launch.testSuite.name}\n                      </Link>\n                    </div>\n                  </div>\n                )}\n                <div className=\"row launch-summary-block\">\n                  <div className=\"col-4\">Created at: {Utils.timeToDate(this.state.launch.createdTime)}</div>\n                  <div className=\"col-4\">Started at: {Utils.timeToDate(this.state.launch.startTime)}</div>\n                  <div className=\"col-4\">Finished at: {Utils.timeToDate(this.state.launch.finishTime)}</div>\n                </div>\n                <div className=\"progress launch-summary-block\">\n                  <div\n                    className=\"progress-bar progress-bar-striped\"\n                    role=\"progressbar\"\n                    style={Utils.getProgressBarStyle(\n                      this.state.launch.launchStats.statusCounters.RUNNING,\n                      this.state.launch.launchStats.total,\n                    )}\n                  >\n                    {Utils.getProgressBarNumber(\n                      this.state.launch.launchStats.statusCounters.RUNNING,\n                      this.state.launch.launchStats.total,\n                    )}\n                  </div>\n                  <div\n                    className=\"progress-bar bg-success\"\n                    role=\"progressbar\"\n                    style={Utils.getProgressBarStyle(\n                      this.state.launch.launchStats.statusCounters.PASSED,\n                      this.state.launch.launchStats.total,\n                    )}\n                  >\n                    {Utils.getProgressBarNumber(\n                      this.state.launch.launchStats.statusCounters.PASSED,\n                      this.state.launch.launchStats.total,\n                    )}\n                  </div>\n                  <div\n                    className=\"progress-bar bg-danger\"\n                    role=\"progressbar\"\n                    style={Utils.getProgressBarStyle(\n                      this.state.launch.launchStats.statusCounters.FAILED,\n                      this.state.launch.launchStats.total,\n                    )}\n                  >\n                    {Utils.getProgressBarNumber(\n                      this.state.launch.launchStats.statusCounters.FAILED,\n                      this.state.launch.launchStats.total,\n                    )}\n                  </div>\n                  <div\n                    className=\"progress-bar bg-warning\"\n                    role=\"progressbar\"\n                    style={Utils.getProgressBarStyle(\n                      this.state.launch.launchStats.statusCounters.BROKEN,\n                      this.state.launch.launchStats.total,\n                    )}\n                  >\n                    {Utils.getProgressBarNumber(\n                      this.state.launch.launchStats.statusCounters.BROKEN,\n                      this.state.launch.launchStats.total,\n                    )}\n                  </div>\n                  <div\n                    className=\"progress-bar progress-bar-striped bg-warning\"\n                    role=\"progressbar\"\n                    style={Utils.getProgressBarStyle(\n                      this.state.launch.launchStats.statusCounters.SKIPPED,\n                      this.state.launch.launchStats.total,\n                    )}\n                  >\n                    {Utils.getProgressBarNumber(\n                      this.state.launch.launchStats.statusCounters.SKIPPED,\n                      this.state.launch.launchStats.total,\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"restart-launch-control\">\n                  <button type=\"button\" className=\"btn btn-primary\" onClick={e => this.onLaunchRestart(false, e)}>\n                    Restart All\n                  </button>\n                  <button type=\"button\" className=\"btn btn-danger\" onClick={e => this.onLaunchRestart(true, e)}>\n                    Restart Failed\n                  </button>\n                </div>\n\n                {this.state.launch.launcherConfig && this.state.launch.launcherConfig.launcherId && (\n                  <div className=\"launcher-details\">\n                    <h5>\n                      External Launch:\n                      {this.state.launch.launcherConfig.externalLaunchUrl && (\n                        <a\n                          className=\"external-launch-link\"\n                          target=\"_blank\"\n                          href={this.state.launch.launcherConfig.externalLaunchUrl}\n                          rel=\"noreferrer\"\n                        >\n                          {this.state.launch.launcherConfig.name}\n                        </a>\n                      )}\n                      {!this.state.launch.launcherConfig.externalLaunchUrl && this.state.launch.launcherConfig.name}\n                    </h5>\n                    <dl>\n                      {this.state.launch.launcherConfig.reportUrl && (\n                        <span>\n                          <dt>Report</dt>\n                          <dd>\n                            <a href={this.state.launch.launcherConfig.reportUrl}>View</a>\n                          </dd>\n                        </span>\n                      )}\n                      {Object.keys(this.state.launch.launcherConfig.properties).map(\n                        function (key) {\n                          return (\n                            <span>\n                              <dt>{key}</dt>\n                              <dd>{this.state.launch.launcherConfig.properties[key]}</dd>\n                            </span>\n                          );\n                        }.bind(this),\n                      )}\n                    </dl>\n                  </div>\n                )}\n\n                <div className=\"launch-attr-stats\">\n                  {Object.keys(this.state.attributesStatus).map(attrKey => {\n                    return (\n                      <LaunchAttributeStatsChart\n                        key={attrKey}\n                        attrKey={attrKey}\n                        stats={this.state.attributesStatus[attrKey]}\n                      />\n                    );\n                  })}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        <div\n          className=\"modal fade\"\n          id=\"restart-launch-modal\"\n          tabIndex=\"-1\"\n          role=\"dialog\"\n          aria-labelledby=\"launchLabel\"\n          aria-hidden=\"true\"\n        >\n          <LaunchForm launch={this.state.launch} restart={true} failedOnly={this.state.restartFailedOnly} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Launch);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}