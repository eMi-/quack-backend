{"ast":null,"code":"var _jsxFileName = \"C:\\\\Temp\\\\Quack\\\\ui\\\\src\\\\src\\\\projects\\\\ProjectForm.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router\";\nimport * as Utils from \"../common/Utils\";\nimport Backend from \"../services/backend\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ProjectForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      project: {\n        id: null,\n        name: \"\",\n        description: \"\",\n        allowedGroups: []\n      }\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  handleChange(event) {\n    var projectUpd = this.state.project;\n    projectUpd[event.target.name] = event.target.value;\n    // eslint-disable-next-line eqeqeq\n    if (event.target.name == \"name\") {\n      projectUpd.id = this.normalizeId(event.target.value);\n    }\n    const newState = Object.assign({}, this.state, {\n      project: projectUpd\n    });\n    this.setState(newState);\n  }\n  handleSubmit(event) {\n    Backend.post(\"project\", this.state.project).then(response => {\n      this.props.history.push(\"/projects/\" + response.id);\n    }).catch(error => {\n      Utils.onErrorMessage(\"Couldn't save project: \", error);\n    });\n    event.preventDefault();\n  }\n  componentDidMount() {\n    if (this.props.id) {\n      Backend.get(\"project/\" + this.props.id).then(response => {\n        const newState = Object.assign({}, this.state, {\n          project: response\n        });\n        this.setState(newState);\n      }).catch(error => {\n        Utils.onErrorMessage(\"Couldn't get project: \", error);\n      });\n    }\n  }\n  normalizeId(id) {\n    return id.trim().toLowerCase().replace(/[^a-zA-Z0-9]/g, \"\");\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"card\",\n      style: {\n        width: \"35em\",\n        margin: \"0 auto\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"card-header text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Create Project\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"project-form card-text\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"col-sm-3 col-form-label\",\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-9\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"name\",\n                className: \"form-control\",\n                value: this.state.project.name,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"col-sm-3 col-form-label\",\n              children: \"Project ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-9\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"id\",\n                className: \"form-control\",\n                value: this.state.project.id || \"\",\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group row\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"col-sm-3 col-form-label\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-9\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"description\",\n                className: \"form-control\",\n                value: this.state.project.description,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"project-form-block\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary\",\n              onClick: this.handleSubmit,\n              children: \"Create\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default _c = withRouter(ProjectForm);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","withRouter","Utils","Backend","jsxDEV","_jsxDEV","ProjectForm","constructor","props","state","project","id","name","description","allowedGroups","handleChange","bind","handleSubmit","event","projectUpd","target","value","normalizeId","newState","Object","assign","setState","post","then","response","history","push","catch","error","onErrorMessage","preventDefault","componentDidMount","get","trim","toLowerCase","replace","render","class","style","width","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","className","type","onChange","onClick","_c","$RefreshReg$"],"sources":["C:/Temp/Quack/ui/src/src/projects/ProjectForm.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router\";\nimport * as Utils from \"../common/Utils\";\nimport Backend from \"../services/backend\";\n\nclass ProjectForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      project: {\n        id: null,\n        name: \"\",\n        description: \"\",\n        allowedGroups: [],\n      },\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    var projectUpd = this.state.project;\n    projectUpd[event.target.name] = event.target.value;\n    // eslint-disable-next-line eqeqeq\n    if (event.target.name == \"name\") {\n      projectUpd.id = this.normalizeId(event.target.value);\n    }\n    const newState = Object.assign({}, this.state, {\n      project: projectUpd,\n    });\n    this.setState(newState);\n  }\n\n  handleSubmit(event) {\n    Backend.post(\"project\", this.state.project)\n      .then(response => {\n        this.props.history.push(\"/projects/\" + response.id);\n      })\n      .catch(error => {\n        Utils.onErrorMessage(\"Couldn't save project: \", error);\n      });\n    event.preventDefault();\n  }\n\n  componentDidMount() {\n    if (this.props.id) {\n      Backend.get(\"project/\" + this.props.id)\n        .then(response => {\n          const newState = Object.assign({}, this.state, {\n            project: response,\n          });\n          this.setState(newState);\n        })\n        .catch(error => {\n          Utils.onErrorMessage(\"Couldn't get project: \", error);\n        });\n    }\n  }\n\n  normalizeId(id) {\n    return id\n      .trim()\n      .toLowerCase()\n      .replace(/[^a-zA-Z0-9]/g, \"\");\n  }\n\n  render() {\n    return (\n      <div class=\"card\" style={{ width: \"35em\", margin: \"0 auto\" }} >\n        <div class=\"card-header text-center\">\n            <h1>Create Project</h1>\n        </div>\n          <div className=\"project-form card-text\">\n            <form>\n              <div className=\"form-group row\">\n                <label className=\"col-sm-3 col-form-label\">Name</label>\n                <div className=\"col-sm-9\">\n                  <input type=\"text\" name=\"name\" className=\"form-control\" value={this.state.project.name} onChange={this.handleChange} />\n                </div>\n              </div>\n\n              <div className=\"form-group row\">\n                <label className=\"col-sm-3 col-form-label\">Project ID</label>\n                <div className=\"col-sm-9\">\n                  <input type=\"text\" name=\"id\" className=\"form-control\" value={this.state.project.id || \"\"} onChange={this.handleChange} />\n                </div>\n              </div>\n\n              <div className=\"form-group row\">\n                <label className=\"col-sm-3 col-form-label\">Description</label>\n                <div className=\"col-sm-9\">\n                  <input\n                    type=\"text\"\n                    name=\"description\"\n                    className=\"form-control\"\n                    value={this.state.project.description}\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n              <div className=\"project-form-block\">\n                  <button type=\"button\" className=\"btn btn-primary\" onClick={this.handleSubmit}>\n                    Create\n                  </button>\n              </div>\n            </form>\n          </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(ProjectForm);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}