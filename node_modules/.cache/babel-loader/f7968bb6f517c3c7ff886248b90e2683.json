{"ast":null,"code":"var _jsxFileName = \"C:\\\\Temp\\\\Quack\\\\ui\\\\src\\\\src\\\\launches\\\\LaunchesWidget.js\";\nimport React from \"react\";\nimport SubComponent from \"../common/SubComponent\";\nimport { Link } from \"react-router-dom\";\nimport * as Utils from \"../common/Utils\";\nimport { FadeLoader } from \"react-spinners\";\nimport Backend from \"../services/backend\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass LaunchesWidget extends SubComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      launches: [],\n      loading: true\n    };\n    this.limit = props.limit || 5;\n    this.state.projectId = props.projectId;\n    this.getLaunches = this.getLaunches.bind(this);\n  }\n  componentDidMount() {\n    super.componentDidMount();\n    if (this.state.projectId) {\n      this.getLaunches();\n    }\n  }\n  componentWillReceiveProps(nextProps) {\n    var nextProjectId = nextProps.projectId;\n    // eslint-disable-next-line eqeqeq\n    if (nextProjectId && this.state.projectId != nextProjectId) {\n      this.state.projectId = nextProjectId;\n      this.getLaunches();\n    }\n  }\n  getLaunches() {\n    Backend.get(this.state.projectId + \"/launch?includedFields=name,id,launchStats&orderby=id&orderdir=DESC&limit=\" + this.limit).then(response => {\n      this.state.launches = response;\n      this.state.loading = false;\n      this.setState(this.state);\n    }).catch(error => {\n      Utils.onErrorMessage(\"Couldn't get launch: \", error);\n      this.state.loading = false;\n      this.setState(this.state);\n    });\n  }\n  getProgressBar(launch) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"progress\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"progress-bar progress-bar-striped\",\n        role: \"progressbar\",\n        style: this.getProgressStyle(launch.launchStats.statusCounters.RUNNING, launch.launchStats.total)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"progress-bar bg-success\",\n        role: \"progressbar\",\n        style: this.getProgressStyle(launch.launchStats.statusCounters.PASSED, launch.launchStats.total)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"progress-bar bg-danger\",\n        role: \"progressbar\",\n        style: this.getProgressStyle(launch.launchStats.statusCounters.FAILED, launch.launchStats.total)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"progress-bar bg-warning\",\n        role: \"progressbar\",\n        style: this.getProgressStyle(launch.launchStats.statusCounters.BROKEN, launch.launchStats.total)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this);\n  }\n  getProgressStyle(value, total) {\n    return {\n      width: value * 100 / total + \"%\"\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sweet-loading\",\n        children: /*#__PURE__*/_jsxDEV(FadeLoader, {\n          sizeUnit: \"px\",\n          size: 100,\n          color: \"#135f38\",\n          loading: this.state.loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        class: \"table table-striped\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Progress\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.state.launches.map(function (launch) {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\" + this.state.projectId + \"/launch/\" + launch.id,\n                  children: launch.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: this.getProgressBar(launch)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, this);\n          }.bind(this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default LaunchesWidget;","map":{"version":3,"names":["React","SubComponent","Link","Utils","FadeLoader","Backend","jsxDEV","_jsxDEV","LaunchesWidget","constructor","props","state","launches","loading","limit","projectId","getLaunches","bind","componentDidMount","componentWillReceiveProps","nextProps","nextProjectId","get","then","response","setState","catch","error","onErrorMessage","getProgressBar","launch","class","children","role","style","getProgressStyle","launchStats","statusCounters","RUNNING","total","fileName","_jsxFileName","lineNumber","columnNumber","PASSED","FAILED","BROKEN","value","width","render","className","sizeUnit","size","color","scope","map","to","id","name"],"sources":["C:/Temp/Quack/ui/src/src/launches/LaunchesWidget.js"],"sourcesContent":["import React from \"react\";\nimport SubComponent from \"../common/SubComponent\";\nimport { Link } from \"react-router-dom\";\nimport * as Utils from \"../common/Utils\";\nimport { FadeLoader } from \"react-spinners\";\nimport Backend from \"../services/backend\";\n\nclass LaunchesWidget extends SubComponent {\n  state = {\n    launches: [],\n    loading: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.limit = props.limit || 5;\n    this.state.projectId = props.projectId;\n    this.getLaunches = this.getLaunches.bind(this);\n  }\n\n  componentDidMount() {\n    super.componentDidMount();\n    if (this.state.projectId) {\n      this.getLaunches();\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    var nextProjectId = nextProps.projectId;\n    // eslint-disable-next-line eqeqeq\n    if (nextProjectId && this.state.projectId != nextProjectId) {\n      this.state.projectId = nextProjectId;\n      this.getLaunches();\n    }\n  }\n\n  getLaunches() {\n    Backend.get(\n      this.state.projectId + \"/launch?includedFields=name,id,launchStats&orderby=id&orderdir=DESC&limit=\" + this.limit,\n    )\n      .then(response => {\n        this.state.launches = response;\n        this.state.loading = false;\n        this.setState(this.state);\n      })\n      .catch(error => {\n        Utils.onErrorMessage(\"Couldn't get launch: \", error);\n        this.state.loading = false;\n        this.setState(this.state);\n      });\n  }\n\n  getProgressBar(launch) {\n    return (\n      <div class=\"progress\">\n        <div\n          class=\"progress-bar progress-bar-striped\"\n          role=\"progressbar\"\n          style={this.getProgressStyle(launch.launchStats.statusCounters.RUNNING, launch.launchStats.total)}\n        ></div>\n        <div\n          class=\"progress-bar bg-success\"\n          role=\"progressbar\"\n          style={this.getProgressStyle(launch.launchStats.statusCounters.PASSED, launch.launchStats.total)}\n        ></div>\n        <div\n          class=\"progress-bar bg-danger\"\n          role=\"progressbar\"\n          style={this.getProgressStyle(launch.launchStats.statusCounters.FAILED, launch.launchStats.total)}\n        ></div>\n        <div\n          class=\"progress-bar bg-warning\"\n          role=\"progressbar\"\n          style={this.getProgressStyle(launch.launchStats.statusCounters.BROKEN, launch.launchStats.total)}\n        ></div>\n      </div>\n    );\n  }\n\n  getProgressStyle(value, total) {\n    return { width: (value * 100) / total + \"%\" };\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"sweet-loading\">\n          <FadeLoader sizeUnit={\"px\"} size={100} color={\"#135f38\"} loading={this.state.loading} />\n        </div>\n        <table class=\"table table-striped\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Title</th>\n              <th scope=\"col\">Progress</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.launches.map(\n              function (launch) {\n                return (\n                  <tr>\n                    <td>\n                      <Link to={\"/\" + this.state.projectId + \"/launch/\" + launch.id}>{launch.name}</Link>\n                    </td>\n                    <td>{this.getProgressBar(launch)}</td>\n                  </tr>\n                );\n              }.bind(this),\n            )}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default LaunchesWidget;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}