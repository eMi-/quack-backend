{"ast":null,"code":"var _jsxFileName = \"C:\\\\Temp\\\\Quack\\\\ui\\\\src\\\\src\\\\attributes\\\\Attributes.js\";\nimport React from \"react\";\nimport SubComponent from \"../common/SubComponent\";\nimport AttributeForm from \"../attributes/AttributeForm\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport $ from \"jquery\";\nimport { FadeLoader } from \"react-spinners\";\nimport Backend from \"../services/backend\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Attributes extends SubComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      attributes: [],\n      attributeToEdit: {\n        id: null,\n        name: \"\",\n        attrValues: []\n      },\n      loading: true\n    };\n    this.onAttributeAdded = this.onAttributeAdded.bind(this);\n    this.onAttributeRemoved = this.onAttributeRemoved.bind(this);\n  }\n  onAttributeAdded(attribute) {\n    var attributeToUpdate = this.state.attributes.find(function (attr) {\n      return attr.id === attribute.id;\n    });\n    if (!attributeToUpdate) {\n      this.state.attributes.push(attribute);\n    } else {\n      this.state.attributes[this.state.attributes.indexOf(attributeToUpdate)] = attribute;\n    }\n    this.state.attributeToEdit = {\n      id: null,\n      name: \"\",\n      attrValues: []\n    };\n    $(\"#editAttribute\").modal(\"hide\");\n    const newState = Object.assign({}, this.state);\n    this.setState(newState);\n  }\n  onAttributeRemoved(attribute) {\n    this.state.attributes = this.state.attributes.filter(attr => attr.id !== attribute.id);\n    $(\"#editAttribute\").modal(\"hide\");\n    const newState = Object.assign({}, this.state);\n    this.setState(newState);\n  }\n  editAttribute(i, event) {\n    this.state.attributeToEdit = this.state.attributes[i];\n    this.setState(this.state);\n    $(\"#editAttribute\").modal(\"show\");\n  }\n  componentDidMount() {\n    super.componentDidMount();\n    Backend.get(this.props.match.params.project + \"/attribute\").then(response => {\n      this.state.loading = false;\n      const newState = Object.assign({}, this.state, {\n        attributes: response\n      });\n      this.setState(newState);\n    }).catch(error => console.log(error));\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sweet-loading\",\n        children: /*#__PURE__*/_jsxDEV(FadeLoader, {\n          sizeUnit: \"px\",\n          size: 100,\n          color: \"#135f38\",\n          loading: this.state.loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), this.state.attributes.map(function (attribute, i) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert\",\n          role: \"alert\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"alert-heading\",\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: attribute.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"edit clickable edit-icon\",\n              index: i,\n              onClick: e => this.editAttribute(i, e),\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faPencilAlt\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: attribute.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-0\",\n            children: attribute.attrValues.map(val => val.value).join(\", \")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }, this);\n      }.bind(this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"attributes-controls\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          \"data-toggle\": \"modal\",\n          \"data-target\": \"#editAttribute\",\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal fade\",\n        id: \"editAttribute\",\n        tabIndex: \"-1\",\n        role: \"dialog\",\n        \"aria-labelledby\": \"editAttributeLabel\",\n        \"aria-hidden\": \"true\",\n        children: /*#__PURE__*/_jsxDEV(AttributeForm, {\n          project: this.props.match.params.project,\n          attribute: this.state.attributeToEdit,\n          onAttributeRemoved: this.onAttributeRemoved,\n          onAttributeAdded: this.onAttributeAdded\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Attributes;","map":{"version":3,"names":["React","SubComponent","AttributeForm","FontAwesomeIcon","faPencilAlt","$","FadeLoader","Backend","jsxDEV","_jsxDEV","Attributes","constructor","props","state","attributes","attributeToEdit","id","name","attrValues","loading","onAttributeAdded","bind","onAttributeRemoved","attribute","attributeToUpdate","find","attr","push","indexOf","modal","newState","Object","assign","setState","filter","editAttribute","i","event","componentDidMount","get","match","params","project","then","response","catch","error","console","log","render","children","className","sizeUnit","size","color","fileName","_jsxFileName","lineNumber","columnNumber","map","role","index","onClick","e","icon","description","val","value","join","type","tabIndex"],"sources":["C:/Temp/Quack/ui/src/src/attributes/Attributes.js"],"sourcesContent":["import React from \"react\";\nimport SubComponent from \"../common/SubComponent\";\nimport AttributeForm from \"../attributes/AttributeForm\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport $ from \"jquery\";\nimport { FadeLoader } from \"react-spinners\";\nimport Backend from \"../services/backend\";\nclass Attributes extends SubComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      attributes: [],\n      attributeToEdit: {\n        id: null,\n        name: \"\",\n        attrValues: [],\n      },\n      loading: true,\n    };\n    this.onAttributeAdded = this.onAttributeAdded.bind(this);\n    this.onAttributeRemoved = this.onAttributeRemoved.bind(this);\n  }\n\n  onAttributeAdded(attribute) {\n    var attributeToUpdate = this.state.attributes.find(function (attr) {\n      return attr.id === attribute.id;\n    });\n    if (!attributeToUpdate) {\n      this.state.attributes.push(attribute);\n    } else {\n      this.state.attributes[this.state.attributes.indexOf(attributeToUpdate)] = attribute;\n    }\n    this.state.attributeToEdit = {\n      id: null,\n      name: \"\",\n      attrValues: [],\n    };\n    $(\"#editAttribute\").modal(\"hide\");\n    const newState = Object.assign({}, this.state);\n    this.setState(newState);\n  }\n\n  onAttributeRemoved(attribute) {\n    this.state.attributes = this.state.attributes.filter(attr => attr.id !== attribute.id);\n    $(\"#editAttribute\").modal(\"hide\");\n    const newState = Object.assign({}, this.state);\n    this.setState(newState);\n  }\n\n  editAttribute(i, event) {\n    this.state.attributeToEdit = this.state.attributes[i];\n    this.setState(this.state);\n    $(\"#editAttribute\").modal(\"show\");\n  }\n\n  componentDidMount() {\n    super.componentDidMount();\n    Backend.get(this.props.match.params.project + \"/attribute\")\n      .then(response => {\n        this.state.loading = false;\n        const newState = Object.assign({}, this.state, {\n          attributes: response,\n        });\n        this.setState(newState);\n      })\n      .catch(error => console.log(error));\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"sweet-loading\">\n          <FadeLoader sizeUnit={\"px\"} size={100} color={\"#135f38\"} loading={this.state.loading} />\n        </div>\n        {this.state.attributes.map(\n          function (attribute, i) {\n            return (\n              <div key={i} className=\"alert\" role=\"alert\">\n                <h5 className=\"alert-heading\">\n                  <b>{attribute.name}</b>\n                  <span className=\"edit clickable edit-icon\" index={i} onClick={e => this.editAttribute(i, e)}>\n                    <FontAwesomeIcon icon={faPencilAlt} />\n                  </span>\n                </h5>\n                <p>{attribute.description}</p>\n                <hr />\n                <p className=\"mb-0\">{attribute.attrValues.map(val => val.value).join(\", \")}</p>\n              </div>\n            );\n          }.bind(this),\n        )}\n\n        <div className=\"attributes-controls\">\n          <button type=\"button\" className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#editAttribute\">\n            Add\n          </button>\n        </div>\n        <div\n          className=\"modal fade\"\n          id=\"editAttribute\"\n          tabIndex=\"-1\"\n          role=\"dialog\"\n          aria-labelledby=\"editAttributeLabel\"\n          aria-hidden=\"true\"\n        >\n          <AttributeForm\n            project={this.props.match.params.project}\n            attribute={this.state.attributeToEdit}\n            onAttributeRemoved={this.onAttributeRemoved}\n            onAttributeAdded={this.onAttributeAdded}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Attributes;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}