{"ast":null,"code":"var _jsxFileName = \"C:\\\\Temp\\\\Quack\\\\ui\\\\src\\\\src\\\\launches\\\\LaunchesByUsersPieWidget.js\";\nimport React from \"react\";\nimport SubComponent from \"../common/SubComponent\";\nimport * as Utils from \"../common/Utils\";\nimport { FadeLoader } from \"react-spinners\";\nimport Highcharts from \"highcharts\";\nimport Backend from \"../services/backend\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass LaunchesByUsersPieWidget extends SubComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      launches: [],\n      filter: {\n        skip: 0,\n        limit: 20,\n        orderby: \"id\",\n        orderdir: \"ASC\",\n        includedFields: \"launchStats,createdTime\"\n      },\n      loading: true\n    };\n    this.getStats = this.getStats.bind(this);\n    this.setUpUsersPieSeries = this.setUpUsersPieSeries.bind(this);\n    this.usersPieChartRender = this.usersPieChartRender.bind(this);\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.projectId) {\n      this.state.projectId = nextProps.projectId;\n    }\n    if (nextProps.filter) {\n      this.state.filter = nextProps.filter;\n    }\n    this.getStats();\n  }\n  componentDidMount() {\n    super.componentDidMount();\n    this.getStats();\n  }\n  getStats() {\n    if (!this.state.projectId) {\n      return [];\n    }\n    Backend.get(this.state.projectId + \"/launch/statistics?\" + Utils.filterToQuery(this.state.filter)).then(response => {\n      this.state.stats = response;\n      this.setUpUsersPieSeries();\n      this.state.loading = false;\n      this.setState(this.state);\n      this.usersPieChartRender();\n    }).catch(error => {\n      Utils.onErrorMessage(\"Couldn't get launch statistics: \", error);\n      this.state.loading = false;\n      this.setState(this.state);\n    });\n  }\n  setUpUsersPieSeries() {\n    this.state.userSeries = [{\n      name: \"Statuses\",\n      data: Object.keys(this.state.stats.all.users).map(function (user) {\n        return {\n          name: user,\n          y: this.state.stats.all.users[user]\n        };\n      }.bind(this))\n    }];\n  }\n  usersPieChartRender() {\n    Highcharts.chart({\n      chart: {\n        type: \"pie\",\n        renderTo: \"pie-by-users\"\n      },\n      title: {\n        verticalAlign: \"middle\",\n        floating: true,\n        text: \"Users\",\n        style: {\n          fontSize: \"10px\"\n        }\n      },\n      plotOptions: {\n        pie: {\n          dataLabels: {\n            format: \"{point.name}: {point.percentage:.1f} %\"\n          },\n          innerSize: \"70%\"\n        }\n      },\n      series: this.state.userSeries\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"pie-by-users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"sweet-loading\",\n        children: /*#__PURE__*/_jsxDEV(FadeLoader, {\n          sizeUnit: \"px\",\n          size: 100,\n          color: \"#135f38\",\n          loading: this.state.loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default LaunchesByUsersPieWidget;","map":{"version":3,"names":["React","SubComponent","Utils","FadeLoader","Highcharts","Backend","jsxDEV","_jsxDEV","LaunchesByUsersPieWidget","constructor","props","state","launches","filter","skip","limit","orderby","orderdir","includedFields","loading","getStats","bind","setUpUsersPieSeries","usersPieChartRender","componentWillReceiveProps","nextProps","projectId","componentDidMount","get","filterToQuery","then","response","stats","setState","catch","error","onErrorMessage","userSeries","name","data","Object","keys","all","users","map","user","y","chart","type","renderTo","title","verticalAlign","floating","text","style","fontSize","plotOptions","pie","dataLabels","format","innerSize","series","render","children","id","fileName","_jsxFileName","lineNumber","columnNumber","sizeUnit","size","color"],"sources":["C:/Temp/Quack/ui/src/src/launches/LaunchesByUsersPieWidget.js"],"sourcesContent":["import React from \"react\";\nimport SubComponent from \"../common/SubComponent\";\nimport * as Utils from \"../common/Utils\";\nimport { FadeLoader } from \"react-spinners\";\nimport Highcharts from \"highcharts\";\nimport Backend from \"../services/backend\";\n\nclass LaunchesByUsersPieWidget extends SubComponent {\n  state = {\n    launches: [],\n    filter: {\n      skip: 0,\n      limit: 20,\n      orderby: \"id\",\n      orderdir: \"ASC\",\n      includedFields: \"launchStats,createdTime\",\n    },\n    loading: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.getStats = this.getStats.bind(this);\n    this.setUpUsersPieSeries = this.setUpUsersPieSeries.bind(this);\n    this.usersPieChartRender = this.usersPieChartRender.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.projectId) {\n      this.state.projectId = nextProps.projectId;\n    }\n    if (nextProps.filter) {\n      this.state.filter = nextProps.filter;\n    }\n    this.getStats();\n  }\n\n  componentDidMount() {\n    super.componentDidMount();\n    this.getStats();\n  }\n\n  getStats() {\n    if (!this.state.projectId) {\n      return [];\n    }\n    Backend.get(this.state.projectId + \"/launch/statistics?\" + Utils.filterToQuery(this.state.filter))\n      .then(response => {\n        this.state.stats = response;\n        this.setUpUsersPieSeries();\n        this.state.loading = false;\n        this.setState(this.state);\n        this.usersPieChartRender();\n      })\n      .catch(error => {\n        Utils.onErrorMessage(\"Couldn't get launch statistics: \", error);\n        this.state.loading = false;\n        this.setState(this.state);\n      });\n  }\n\n  setUpUsersPieSeries() {\n    this.state.userSeries = [\n      {\n        name: \"Statuses\",\n        data: Object.keys(this.state.stats.all.users).map(\n          function (user) {\n            return { name: user, y: this.state.stats.all.users[user] };\n          }.bind(this),\n        ),\n      },\n    ];\n  }\n\n  usersPieChartRender() {\n    Highcharts.chart({\n      chart: {\n        type: \"pie\",\n        renderTo: \"pie-by-users\",\n      },\n      title: {\n        verticalAlign: \"middle\",\n        floating: true,\n        text: \"Users\",\n        style: {\n          fontSize: \"10px\",\n        },\n      },\n      plotOptions: {\n        pie: {\n          dataLabels: {\n            format: \"{point.name}: {point.percentage:.1f} %\",\n          },\n          innerSize: \"70%\",\n        },\n      },\n      series: this.state.userSeries,\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <div id=\"pie-by-users\"></div>\n        <div id=\"sweet-loading\">\n          <FadeLoader sizeUnit={\"px\"} size={100} color={\"#135f38\"} loading={this.state.loading} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LaunchesByUsersPieWidget;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}