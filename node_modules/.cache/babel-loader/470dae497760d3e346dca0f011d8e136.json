{"ast":null,"code":"var _jsxFileName = \"C:\\\\Temp\\\\Quack\\\\ui\\\\src\\\\src\\\\launches\\\\LaunchesByStatusesPieWidget.js\";\nimport React from \"react\";\nimport SubComponent from \"../common/SubComponent\";\nimport * as Utils from \"../common/Utils\";\nimport { FadeLoader } from \"react-spinners\";\nimport Highcharts from \"highcharts\";\nimport Backend from \"../services/backend\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass LaunchesByStatusesPieWidget extends SubComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      launches: [],\n      filter: {\n        skip: 0,\n        limit: 20,\n        orderby: \"id\",\n        orderdir: \"ASC\",\n        includedFields: \"launchStats,createdTime\"\n      },\n      loading: true\n    };\n    this.getStats = this.getStats.bind(this);\n    this.setUpStatusPieSeries = this.setUpStatusPieSeries.bind(this);\n    this.statusPieChartRender = this.statusPieChartRender.bind(this);\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.projectId) {\n      this.state.projectId = nextProps.projectId;\n    }\n    if (nextProps.filter) {\n      this.state.filter = nextProps.filter;\n    }\n    this.getStats();\n  }\n  componentDidMount() {\n    super.componentDidMount();\n    this.getStats();\n  }\n  getStats() {\n    if (!this.state.projectId) {\n      return [];\n    }\n    Backend.get(this.state.projectId + \"/launch/statistics?\" + Utils.filterToQuery(this.state.filter)).then(response => {\n      this.state.stats = response;\n      this.setUpStatusPieSeries();\n      this.state.loading = false;\n      this.setState(this.state);\n      this.statusPieChartRender();\n    }).catch(error => {\n      Utils.onErrorMessage(\"Couldn't get launch statistics: \", error);\n      this.state.loading = false;\n      this.setState(this.state);\n    });\n  }\n  setUpStatusPieSeries() {\n    this.state.statusSeries = [{\n      name: \"Statuses\",\n      data: [{\n        name: \"Passed\",\n        y: this.state.stats.all.launchStats.statusCounters.PASSED,\n        color: \"#28a745\"\n      }, {\n        name: \"Failed\",\n        y: this.state.stats.all.launchStats.statusCounters.FAILED,\n        color: \"#dc3545\"\n      }, {\n        name: \"Broken\",\n        y: this.state.stats.all.launchStats.statusCounters.BROKEN,\n        color: \"#ffc107\"\n      }, {\n        name: \"Skipped\",\n        y: this.state.stats.all.launchStats.statusCounters.SKIPPED,\n        color: \"#6c757d\"\n      }, {\n        name: \"Runnable\",\n        y: this.state.stats.all.launchStats.statusCounters.RUNNABLE,\n        color: \"#7cb5ec\"\n      }, {\n        name: \"Running\",\n        y: this.state.stats.all.launchStats.statusCounters.RUNNING,\n        color: \"#007bff\"\n      }]\n    }];\n  }\n  statusPieChartRender() {\n    Highcharts.chart({\n      chart: {\n        type: \"pie\",\n        renderTo: \"pie-by-statuses\"\n      },\n      title: {\n        verticalAlign: \"middle\",\n        floating: true,\n        text: \"Statuses\",\n        style: {\n          fontSize: \"10px\"\n        }\n      },\n      plotOptions: {\n        pie: {\n          dataLabels: {\n            format: \"{point.name}: {point.percentage:.1f} %\"\n          },\n          innerSize: \"70%\"\n        }\n      },\n      series: this.state.statusSeries\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"pie-by-statuses\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"sweet-loading\",\n        children: /*#__PURE__*/_jsxDEV(FadeLoader, {\n          sizeUnit: \"px\",\n          size: 100,\n          color: \"#135f38\",\n          loading: this.state.loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default LaunchesByStatusesPieWidget;","map":{"version":3,"names":["React","SubComponent","Utils","FadeLoader","Highcharts","Backend","jsxDEV","_jsxDEV","LaunchesByStatusesPieWidget","constructor","props","state","launches","filter","skip","limit","orderby","orderdir","includedFields","loading","getStats","bind","setUpStatusPieSeries","statusPieChartRender","componentWillReceiveProps","nextProps","projectId","componentDidMount","get","filterToQuery","then","response","stats","setState","catch","error","onErrorMessage","statusSeries","name","data","y","all","launchStats","statusCounters","PASSED","color","FAILED","BROKEN","SKIPPED","RUNNABLE","RUNNING","chart","type","renderTo","title","verticalAlign","floating","text","style","fontSize","plotOptions","pie","dataLabels","format","innerSize","series","render","children","id","fileName","_jsxFileName","lineNumber","columnNumber","sizeUnit","size"],"sources":["C:/Temp/Quack/ui/src/src/launches/LaunchesByStatusesPieWidget.js"],"sourcesContent":["import React from \"react\";\nimport SubComponent from \"../common/SubComponent\";\nimport * as Utils from \"../common/Utils\";\nimport { FadeLoader } from \"react-spinners\";\nimport Highcharts from \"highcharts\";\nimport Backend from \"../services/backend\";\n\nclass LaunchesByStatusesPieWidget extends SubComponent {\n  state = {\n    launches: [],\n    filter: {\n      skip: 0,\n      limit: 20,\n      orderby: \"id\",\n      orderdir: \"ASC\",\n      includedFields: \"launchStats,createdTime\",\n    },\n    loading: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.getStats = this.getStats.bind(this);\n    this.setUpStatusPieSeries = this.setUpStatusPieSeries.bind(this);\n    this.statusPieChartRender = this.statusPieChartRender.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.projectId) {\n      this.state.projectId = nextProps.projectId;\n    }\n    if (nextProps.filter) {\n      this.state.filter = nextProps.filter;\n    }\n    this.getStats();\n  }\n\n  componentDidMount() {\n    super.componentDidMount();\n    this.getStats();\n  }\n\n  getStats() {\n    if (!this.state.projectId) {\n      return [];\n    }\n    Backend.get(this.state.projectId + \"/launch/statistics?\" + Utils.filterToQuery(this.state.filter))\n      .then(response => {\n        this.state.stats = response;\n        this.setUpStatusPieSeries();\n        this.state.loading = false;\n        this.setState(this.state);\n        this.statusPieChartRender();\n      })\n      .catch(error => {\n        Utils.onErrorMessage(\"Couldn't get launch statistics: \", error);\n        this.state.loading = false;\n        this.setState(this.state);\n      });\n  }\n\n  setUpStatusPieSeries() {\n    this.state.statusSeries = [\n      {\n        name: \"Statuses\",\n        data: [\n          {\n            name: \"Passed\",\n            y: this.state.stats.all.launchStats.statusCounters.PASSED,\n            color: \"#28a745\",\n          },\n          {\n            name: \"Failed\",\n            y: this.state.stats.all.launchStats.statusCounters.FAILED,\n            color: \"#dc3545\",\n          },\n          {\n            name: \"Broken\",\n            y: this.state.stats.all.launchStats.statusCounters.BROKEN,\n            color: \"#ffc107\",\n          },\n          {\n            name: \"Skipped\",\n            y: this.state.stats.all.launchStats.statusCounters.SKIPPED,\n            color: \"#6c757d\",\n          },\n          {\n            name: \"Runnable\",\n            y: this.state.stats.all.launchStats.statusCounters.RUNNABLE,\n            color: \"#7cb5ec\",\n          },\n          {\n            name: \"Running\",\n            y: this.state.stats.all.launchStats.statusCounters.RUNNING,\n            color: \"#007bff\",\n          },\n        ],\n      },\n    ];\n  }\n\n  statusPieChartRender() {\n    Highcharts.chart({\n      chart: {\n        type: \"pie\",\n        renderTo: \"pie-by-statuses\",\n      },\n      title: {\n        verticalAlign: \"middle\",\n        floating: true,\n        text: \"Statuses\",\n        style: {\n          fontSize: \"10px\",\n        },\n      },\n      plotOptions: {\n        pie: {\n          dataLabels: {\n            format: \"{point.name}: {point.percentage:.1f} %\",\n          },\n          innerSize: \"70%\",\n        },\n      },\n      series: this.state.statusSeries,\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <div id=\"pie-by-statuses\"></div>\n        <div id=\"sweet-loading\">\n          <FadeLoader sizeUnit={\"px\"} size={100} color={\"#135f38\"} loading={this.state.loading} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LaunchesByStatusesPieWidget;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}