{"ast":null,"code":"var _jsxFileName = \"C:\\\\Temp\\\\Quack\\\\ui\\\\src\\\\src\\\\user\\\\Auth.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router\";\nimport qs from \"qs\";\nimport Backend from \"../services/backend\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Auth extends Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 12\n    }, this);\n  }\n  componentDidMount() {\n    var params = qs.parse(this.props.location.search.substring(1));\n    Backend.get(\"user/login-redirect\").then(response => {\n      var url = response.url || \"/login\";\n      var retpath = params.retpath || \"\";\n      if (!response.strictUrl) {\n        var retpathParamName = response.retpathParamName || \"retpath\";\n        if (retpath.startsWith(window.location.origin + \"/auth\") || retpath.startsWith(window.location.origin + \"/login\")) {\n          retpath = \"/\";\n        }\n        url = url + \"?\" + retpathParamName + \"=\" + encodeURIComponent(retpath);\n      }\n      window.location = url;\n    }).catch(error => console.log(error));\n  }\n}\nexport default _c = withRouter(Auth);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","withRouter","qs","Backend","jsxDEV","_jsxDEV","Auth","render","fileName","_jsxFileName","lineNumber","columnNumber","componentDidMount","params","parse","props","location","search","substring","get","then","response","url","retpath","strictUrl","retpathParamName","startsWith","window","origin","encodeURIComponent","catch","error","console","log","_c","$RefreshReg$"],"sources":["C:/Temp/Quack/ui/src/src/user/Auth.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router\";\nimport qs from \"qs\";\nimport Backend from \"../services/backend\";\nclass Auth extends Component {\n  render() {\n    return <div></div>;\n  }\n\n  componentDidMount() {\n    var params = qs.parse(this.props.location.search.substring(1));\n    Backend.get(\"user/login-redirect\")\n      .then(response => {\n        var url = response.url || \"/login\";\n        var retpath = params.retpath || \"\";\n        if(!response.strictUrl){\n            var retpathParamName = response.retpathParamName || \"retpath\";\n            if (\n              retpath.startsWith(window.location.origin + \"/auth\") ||\n              retpath.startsWith(window.location.origin + \"/login\")\n            ) {\n              retpath = \"/\";\n            }\n\n            url = url + \"?\" + retpathParamName + \"=\" + encodeURIComponent(retpath);\n        }\n        window.location = url;\n      })\n      .catch(error => console.log(error));\n  }\n}\n\nexport default withRouter(Auth);\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,UAAU,QAAQ,cAAc;AACzC,OAAOC,EAAE,MAAM,IAAI;AACnB,OAAOC,OAAO,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC1C,MAAMC,IAAI,SAASN,SAAS,CAAC;EAC3BO,MAAMA,CAAA,EAAG;IACP,oBAAOF,OAAA;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAU,CAAC;EACpB;EAEAC,iBAAiBA,CAAA,EAAG;IAClB,IAAIC,MAAM,GAAGX,EAAE,CAACY,KAAK,CAAC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAACC,MAAM,CAACC,SAAS,CAAC,CAAC,CAAC,CAAC;IAC9Df,OAAO,CAACgB,GAAG,CAAC,qBAAqB,CAAC,CAC/BC,IAAI,CAACC,QAAQ,IAAI;MAChB,IAAIC,GAAG,GAAGD,QAAQ,CAACC,GAAG,IAAI,QAAQ;MAClC,IAAIC,OAAO,GAAGV,MAAM,CAACU,OAAO,IAAI,EAAE;MAClC,IAAG,CAACF,QAAQ,CAACG,SAAS,EAAC;QACnB,IAAIC,gBAAgB,GAAGJ,QAAQ,CAACI,gBAAgB,IAAI,SAAS;QAC7D,IACEF,OAAO,CAACG,UAAU,CAACC,MAAM,CAACX,QAAQ,CAACY,MAAM,GAAG,OAAO,CAAC,IACpDL,OAAO,CAACG,UAAU,CAACC,MAAM,CAACX,QAAQ,CAACY,MAAM,GAAG,QAAQ,CAAC,EACrD;UACAL,OAAO,GAAG,GAAG;QACf;QAEAD,GAAG,GAAGA,GAAG,GAAG,GAAG,GAAGG,gBAAgB,GAAG,GAAG,GAAGI,kBAAkB,CAACN,OAAO,CAAC;MAC1E;MACAI,MAAM,CAACX,QAAQ,GAAGM,GAAG;IACvB,CAAC,CAAC,CACDQ,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;EACvC;AACF;AAEA,eAAAG,EAAA,GAAejC,UAAU,CAACK,IAAI,CAAC;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}